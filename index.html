
<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Счётчик</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
<table>
  <tr>
    <td>Tilt Left/Right [gamma]</td>
    <td id="doTiltLR"></td>
  </tr>
  <tr>
    <td>Tilt Front/Back [beta]</td>
    <td id="doTiltFB"></td>
  </tr>
  <tr>
    <td>Direction [alpha]</td>
    <td id="doDirection"></td>
  </tr>
</table>

 <div class="container">
        <div id="counter">0</div>
        <button id="startBtn">Старт</button>
        <button id="stopBtn">Стоп</button>
    </div>

<script type="text/javascript">
	if ('DeviceOrientationEvent' in window) {
	  window.addEventListener('deviceorientation', deviceOrientationHandler, false);
	} else {
	  document.getElementById('logoContainer').innerText = 'Device Orientation API not supported.';
	}

	function deviceOrientationHandler (eventData) {
	  var tiltLR = eventData.gamma;
	  var tiltFB = eventData.beta;
	  var dir = eventData.alpha;
	  
	  document.getElementById("doTiltLR").innerHTML = Math.round(tiltLR);
	  document.getElementById("doTiltFB").innerHTML = Math.round(tiltFB);
	  document.getElementById("doDirection").innerHTML = Math.round(dir);
	}




	let count = 0;
	let a=0, b=0;
	let interval;

	const counterDisplay = document.getElementById('counter');
	const startButton = document.getElementById('startBtn');
	const stopButton = document.getElementById('stopBtn');

	startButton.addEventListener('click', () => {
	    if (!interval) {
	        interval = setInterval(() => {
	        	a = tiltLR;
	            //count++;
	            //counterDisplay.textContent = count;
	        }, 100);
	    }
	    if(a != b) {
	    	count++;
	    	counterDisplay.textContent = count;
	    	b = a;
	    }
	});

	stopButton.addEventListener('click', () => {
	    clearInterval(interval);
	    interval = null;ф
	});

</script>



</body>
</html>
